import React, { useState } from "react";
import CryptoDropdown from "./CryptoDropDown";

const ContractForm = () => {
  const [buyAmount, setBuyAmount] = useState(1);
  const [sellAmount, setSellAmount] = useState(58289.32);
  const [rate] = useState(0.00001716);
  const [comment, setComment] = useState("");

  const currencies = [
    { name: "BTC", logo: "https://cryptologos.cc/logos/bitcoin-btc-logo.png" },
    { name: "USD", logo: "https://cryptologos.cc/logos/usd-coin-usdc-logo.png" },
    // Add more currencies if needed
  ];
  const [selectedCurrency, setSelectedCurrency] = useState("BTC");
  const [isOpen, setIsOpen] = useState(false);
  const [selectedCurrencySell, setSelectedCurrencySell] = useState("BTC");
  const [isOpenSell, setIsOpenSell] = useState(false);

  const handleCurrencySelect = (currency) => {
    setSelectedCurrency(currency);
    setIsOpenSell(false);
  };
  const handleCurrencySelectSell = (currency) => {
    setSelectedCurrencySell(currency);
    setIsOpen(false);
  };

  return (
    <>
      {/* Buying Section */}
      <div className="p-4 space-y-8 border rounded-2xl">
        <div className="flex items-center justify-between">
          <p className="text-xs text-gray-700">You&quot;re buying</p>
          <p className="text-xs font-medium text-gray-500">Balance: 0.00</p>
        </div>
        <div className="flex items-center justify-between rounded-md">
          <p className="text-sm font-bold">{buyAmount.toFixed(2)}</p>
          <CryptoDropdown
            currencies={currencies}
            selectedCurrency={selectedCurrency}
            isOpen={isOpen}
            setIsOpen={setIsOpen}
            handleCurrencySelect={handleCurrencySelect}
          />
        </div>
      </div>

      <div className="cursor-pointer">
        <svg width="105" height="32" viewBox="0 0 105 32" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M0 16C0 10.3995 0 7.59921 1.08993 5.46009C2.04867 3.57847 3.57847 2.04867 5.46009 1.08993C7.59921 0 10.3995 0 16 0H89C94.6005 0 97.4008 0 99.5399 1.08993C101.422 2.04867 102.951 3.57847 103.91 5.46009C105 7.59921 105 10.3995 105 16C105 21.6005 105 24.4008 103.91 26.5399C102.951 28.4215 101.422 29.9513 99.5399 30.9101C97.4008 32 94.6005 32 89 32H16C10.3995 32 7.59921 32 5.46009 30.9101C3.57847 29.9513 2.04867 28.4215 1.08993 26.5399C0 24.4008 0 21.6005 0 16Z"
            fill="#212121"
          />
          <path
            d="M25 10C25.3 10 25.5 10.2 25.5 10.5V20.3L27.15 18.65C27.35 18.45 27.65 18.45 27.85 18.65C28.05 18.85 28.05 19.15 27.85 19.35L25.35 21.85C25.15 22.05 24.85 22.05 24.65 21.85L22.15 19.35C21.95 19.15 21.95 18.85 22.15 18.65C22.35 18.45 22.65 18.45 22.85 18.65L24.5 20.3V10.5C24.5 10.2 24.7 10 25 10ZM19.5 21.5V11.7L21.15 13.35C21.35 13.55 21.65 13.55 21.85 13.35C22.05 13.15 22.05 12.85 21.85 12.65L19.35 10.15C19.15 9.95 18.85 9.95 18.65 10.15L16.15 12.65C15.95 12.85 15.95 13.15 16.15 13.35C16.35 13.55 16.65 13.55 16.85 13.35L18.5 11.7V21.5C18.5 21.8 18.7 22 19 22C19.3 22 19.5 21.8 19.5 21.5Z"
            fill="white"
          />
          <path
            d="M33.4025 20V11.2727H36.4537C37.0616 11.2727 37.563 11.3778 37.9579 11.5881C38.3528 11.7955 38.6468 12.0753 38.84 12.4276C39.0332 12.777 39.1298 13.1648 39.1298 13.5909C39.1298 13.9659 39.063 14.2756 38.9295 14.5199C38.7988 14.7642 38.6255 14.9574 38.4096 15.0994C38.1966 15.2415 37.965 15.3466 37.715 15.4148V15.5C37.9821 15.517 38.2505 15.6108 38.5204 15.7812C38.7903 15.9517 39.0162 16.196 39.198 16.5142C39.3798 16.8324 39.4707 17.2216 39.4707 17.6818C39.4707 18.1193 39.3713 18.5128 39.1724 18.8622C38.9735 19.2116 38.6596 19.4886 38.2306 19.6932C37.8017 19.8977 37.2434 20 36.5559 20H33.4025ZM34.4593 19.0625H36.5559C37.2463 19.0625 37.7363 18.929 38.0261 18.6619C38.3187 18.392 38.465 18.0653 38.465 17.6818C38.465 17.3864 38.3897 17.1136 38.2392 16.8636C38.0886 16.6108 37.8741 16.4091 37.5957 16.2585C37.3173 16.1051 36.9877 16.0284 36.6071 16.0284H34.4593V19.0625ZM34.4593 15.108H36.4196C36.7377 15.108 37.0247 15.0455 37.2804 14.9205C37.5389 14.7955 37.7434 14.6193 37.894 14.392C38.0474 14.1648 38.1241 13.8977 38.1241 13.5909C38.1241 13.2074 37.9906 12.8821 37.7235 12.6151C37.4565 12.3452 37.0332 12.2102 36.4537 12.2102H34.4593V15.108ZM45.1958 17.3239V13.4545H46.2015V20H45.1958V18.892H45.1277C44.9743 19.2244 44.7356 19.5071 44.4118 19.7401C44.0879 19.9702 43.6788 20.0852 43.1845 20.0852C42.7754 20.0852 42.4118 19.9957 42.0936 19.8168C41.7754 19.6349 41.5254 19.3622 41.3436 18.9986C41.1618 18.6321 41.0708 18.1705 41.0708 17.6136V13.4545H42.0765V17.5455C42.0765 18.0227 42.21 18.4034 42.4771 18.6875C42.747 18.9716 43.0907 19.1136 43.5083 19.1136C43.7583 19.1136 44.0126 19.0497 44.2711 18.9219C44.5325 18.794 44.7512 18.598 44.9274 18.3338C45.1064 18.0696 45.1958 17.733 45.1958 17.3239ZM48.6912 22.4545C48.5208 22.4545 48.3688 22.4403 48.2353 22.4119C48.1017 22.3864 48.0094 22.3608 47.9583 22.3352L48.214 21.4489C48.4583 21.5114 48.6742 21.5341 48.8617 21.517C49.0492 21.5 49.2154 21.4162 49.3603 21.2656C49.508 21.1179 49.6429 20.8778 49.7651 20.5455L49.9526 20.0341L47.5321 13.4545H48.623L50.4299 18.6705H50.498L52.3049 13.4545H53.3958L50.6174 20.9545C50.4924 21.2926 50.3375 21.5724 50.1529 21.794C49.9682 22.0185 49.7537 22.1847 49.5094 22.2926C49.2679 22.4006 48.9952 22.4545 48.6912 22.4545ZM58.2346 20V11.2727H63.5016V12.2102H59.2914V15.1591H63.2289V16.0966H59.2914V19.0625H63.5698V20H58.2346ZM66.0201 13.4545L67.5882 16.1307L69.1564 13.4545H70.3155L68.2019 16.7273L70.3155 20H69.1564L67.5882 17.4602L66.0201 20H64.861L66.9405 16.7273L64.861 13.4545H66.0201ZM73.6767 20.1534C73.2619 20.1534 72.8855 20.0753 72.5474 19.919C72.2093 19.7599 71.9409 19.5312 71.742 19.233C71.5431 18.9318 71.4437 18.5682 71.4437 18.142C71.4437 17.767 71.5176 17.4631 71.6653 17.2301C71.813 16.9943 72.0105 16.8097 72.2576 16.6761C72.5048 16.5426 72.7775 16.4432 73.0758 16.3778C73.377 16.3097 73.6795 16.2557 73.9835 16.2159C74.3812 16.1648 74.7037 16.1264 74.9508 16.1009C75.2008 16.0724 75.3826 16.0256 75.4963 15.9602C75.6127 15.8949 75.671 15.7812 75.671 15.6193V15.5852C75.671 15.1648 75.5559 14.8381 75.3258 14.6051C75.0985 14.3722 74.7534 14.2557 74.2903 14.2557C73.8102 14.2557 73.4338 14.3608 73.161 14.571C72.8883 14.7812 72.6966 15.0057 72.5858 15.2443L71.6312 14.9034C71.8017 14.5057 72.0289 14.196 72.313 13.9744C72.6 13.75 72.9125 13.5937 73.2505 13.5057C73.5914 13.4148 73.9267 13.3693 74.2562 13.3693C74.4664 13.3693 74.7079 13.3949 74.9806 13.446C75.2562 13.4943 75.5218 13.5952 75.7775 13.7486C76.036 13.902 76.2505 14.1335 76.421 14.4432C76.5914 14.7528 76.6767 15.1676 76.6767 15.6875V20H75.671V19.1136H75.6199C75.5517 19.2557 75.438 19.4077 75.2789 19.5696C75.1199 19.7315 74.9082 19.8693 74.644 19.983C74.3798 20.0966 74.0574 20.1534 73.6767 20.1534ZM73.8301 19.25C74.2278 19.25 74.563 19.1719 74.8358 19.0156C75.1113 18.8594 75.3187 18.6577 75.4579 18.4105C75.6 18.1634 75.671 17.9034 75.671 17.6307V16.7102C75.6284 16.7614 75.5346 16.8082 75.3897 16.8509C75.2477 16.8906 75.0829 16.9261 74.8954 16.9574C74.7108 16.9858 74.5304 17.0114 74.3542 17.0341C74.1809 17.054 74.0403 17.071 73.9324 17.0852C73.671 17.1193 73.4267 17.1747 73.1994 17.2514C72.975 17.3253 72.7931 17.4375 72.6539 17.5881C72.5176 17.7358 72.4494 17.9375 72.4494 18.1932C72.4494 18.5426 72.5787 18.8068 72.8372 18.9858C73.0985 19.1619 73.4295 19.25 73.8301 19.25ZM81.1713 20.1364C80.5577 20.1364 80.0293 19.9915 79.5861 19.7017C79.1429 19.4119 78.802 19.0128 78.5634 18.5043C78.3248 17.9957 78.2054 17.4148 78.2054 16.7614C78.2054 16.0966 78.3276 15.5099 78.5719 15.0014C78.8191 14.4901 79.1628 14.0909 79.6032 13.804C80.0463 13.5142 80.5634 13.3693 81.1543 13.3693C81.6145 13.3693 82.0293 13.4545 82.3986 13.625C82.7679 13.7955 83.0705 14.0341 83.3063 14.3409C83.5421 14.6477 83.6884 15.0057 83.7452 15.4148H82.7395C82.6628 15.1165 82.4924 14.8523 82.2282 14.6222C81.9668 14.3892 81.6145 14.2727 81.1713 14.2727C80.7793 14.2727 80.4355 14.375 80.1401 14.5795C79.8475 14.7812 79.6188 15.0668 79.454 15.4361C79.2921 15.8026 79.2111 16.233 79.2111 16.7273C79.2111 17.233 79.2907 17.6733 79.4498 18.0483C79.6117 18.4233 79.839 18.7145 80.1316 18.9219C80.427 19.1293 80.7736 19.233 81.1713 19.233C81.4327 19.233 81.6699 19.1875 81.883 19.0966C82.0961 19.0057 82.2765 18.875 82.4242 18.7045C82.5719 18.5341 82.677 18.3295 82.7395 18.0909H83.7452C83.6884 18.4773 83.5478 18.8253 83.3233 19.1349C83.1017 19.4418 82.8077 19.6861 82.4412 19.8679C82.0776 20.0469 81.6543 20.1364 81.1713 20.1364ZM88.062 13.4545V14.3068H84.6699V13.4545H88.062ZM85.6586 11.8864H86.6642V18.125C86.6642 18.4091 86.7054 18.6222 86.7878 18.7642C86.873 18.9034 86.981 18.9972 87.1117 19.0455C87.2452 19.0909 87.3858 19.1136 87.5336 19.1136C87.6444 19.1136 87.7353 19.108 87.8063 19.0966C87.8773 19.0824 87.9341 19.071 87.9767 19.0625L88.1813 19.9659C88.1131 19.9915 88.0179 20.017 87.8958 20.0426C87.7736 20.071 87.6188 20.0852 87.4313 20.0852C87.1472 20.0852 86.8688 20.0241 86.5961 19.902C86.3262 19.7798 86.1017 19.5938 85.9228 19.3438C85.7466 19.0938 85.6586 18.7784 85.6586 18.3977V11.8864Z"
            fill="white"
          />
        </svg>
      </div>

      {/* Selling Section */}
      <div className="p-4 space-y-8 border rounded-2xl">
        <div className="flex items-center justify-between">
          <p className="text-xs text-gray-700">You&quot;ll be selling</p>
          <p className="text-xs font-medium text-gray-500">Balance: 700.00</p>
        </div>
        <div className="flex items-center justify-between rounded-md">
          <p className="text-sm font-bold">{sellAmount.toFixed(2)}</p>
          <CryptoDropdown
            currencies={currencies}
            selectedCurrency={selectedCurrencySell}
            isOpen={isOpenSell}
            setIsOpen={setIsOpenSell}
            handleCurrencySelect={handleCurrencySelectSell}
          />
        </div>
      </div>

      {/* Exchange Rate */}
      <div className="flex items-center justify-between text-gray-700">
        <p className="text-xs">Rate</p>
        <p className="text-xs font-medium">1 USD = {rate} BTC</p>
      </div>

      {/* Comment Section */}
      <div>
        <div className="flex items-center justify-between text-gray-700">
          <p className="text-xs">Comment (optional)</p>
          <p className="text-xs">Maximum length is 100 characters</p>
        </div>
        <label className="block mb-1 text-gray-700" htmlFor="comment"></label>
        <textarea
          id="comment"
          className="w-full p-2 border border-gray-300 rounded-md"
          placeholder=""
          maxLength={300}
          value={comment}
          onChange={(e) => setComment(e.target.value)}
        />
      </div>
    </>
  );
};

export default ContractForm;
